@page "/Idp/{IdpName}/Client/{ClientId}"

<MudText Typo="Typo.h3">Client</MudText>

<MudStack>
    <MudText Typo="Typo.h5">@ViewController.Client?.ClientName</MudText>
    <MudExpansionPanels>
        <MudExpansionPanel Text="Redirect Uris">
            <MudStack>
                <MudStack Row="true">
                    <MudTextField @bind-Value="ViewController.NewRedirectUri" Label="Redirect Uri" Variant="Variant.Outlined" Margin="Margin.Dense" />
                    <MudButton OnClick="ViewController.AddRedirectUriAsync">Add</MudButton>
                </MudStack>
                <MudList>
                    @if (ViewController.Client != null)
                    {
                        foreach (var uri in ViewController.Client.RedirectUris)
                        {
                            <MudListItem>
                                <MudText>@uri</MudText>
                            </MudListItem>
                        }
                    }
                </MudList>
            </MudStack>
        </MudExpansionPanel>
        <MudExpansionPanel Text="APIs">
            <MudStack>
                <MudStack>
                    @for (int i = 0; i<ViewController.SelectedApiScopes.Length; i++)
                    {
                        int k = i;
                        <MudCheckBox @bind-Checked="ViewController.SelectedApiScopes[k].Selected" Label="@ViewController.SelectedApiScopes[i].Title"></MudCheckBox>
                    }
                </MudStack>
                <MudButton OnClick="ViewController.SaveApiSelection">Save</MudButton>
            </MudStack>
        </MudExpansionPanel>
    </MudExpansionPanels>
</MudStack>
