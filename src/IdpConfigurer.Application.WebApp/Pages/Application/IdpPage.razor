@page "/Idp/{IdpName}"

@using IdpConfigurer.Application.WebApp.Pages.Application.Components.Idp
@using IdpConfigurer.Business;

<MudText Typo="Typo.h3">Identity Provider</MudText>

<MudStack>
    <MudStack>
        <MudStack Row="true" AlignItems="AlignItems.Center">
            <MudText Typo="Typo.h5">@ViewController.Idp?.Name</MudText>
            <MudIconButton Icon="@Icons.Material.Filled.Edit" OnClick="() => ViewController.EditIdpName = true" />
        </MudStack>
        @if (ViewController.EditIdpName)
        {
            <MudStack Row="true" AlignItems="AlignItems.Center">
                <MudTextField Label="New Idp Name" @bind-Value="ViewController.NewIdpName" />
                <MudButton OnClick="ViewController.UpdateIdpName">Save</MudButton>
            </MudStack>
        }
    </MudStack>
    <MudExpansionPanels>
        <MudExpansionPanel Text="Clients"><Clients /></MudExpansionPanel>
        <MudExpansionPanel Text="APIs"><Apis /></MudExpansionPanel>
        <MudExpansionPanel Text="Custom Data"><CustomData /></MudExpansionPanel>
        <MudExpansionPanel Text="Properties"><Properties /></MudExpansionPanel>
    </MudExpansionPanels>
</MudStack>
